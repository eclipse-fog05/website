<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=apple-touch-icon sizes=120x120 href=https://fog05.io/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://fog05.io/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://fog05.io/favicon-16x16.png><link rel=manifest href=https://fog05.io/manifest.json><link rel=mask-icon href=https://fog05.io/safari-pinned-tab.svg color=#5bbad5><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://fog05.io/css/bootstrap-reboot.css><link rel=stylesheet href=https://fog05.io/css/bootstrap.css><link rel=stylesheet href=https://fog05.io/css/font-awesome.min.css><link rel=stylesheet href=https://fog05.io/css/fos.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css><link rel=alternate type=application/rss+xml href=https://fog05.io/blog/index.xml><title>Hello World! Â· Eclipse fog05</title></head><body><header class="navbar navbar-expand navbar-dark flex-column flex-md-row fos-navbar"><a class=navbar-brand href=https://fog05.io/><img src=https://fog05.io/img/fos_logo.png class=align-middle alt="Eclipse fog05 logo" style=width:100px></a><div class="collapse navbar-collapse"><ul class=navbar-nav><li class=nav-item><a class=nav-link href=https://fog05.io/>Home</a></li><li class=nav-item><a class="nav-link active" href=https://fog05.io/docs/getting-started/installation/>Documentation</a></li><li class=nav-item><a class=nav-link href=https://fog05.io/community/>Community</a></li><li class=nav-item><a class=nav-link href=https://fog05.io/blog/2020-10-release-0-2-2/>Blog</a></li></ul></div><ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex"><li class=nav-item><a class="nav-link p-2" href=https://github.com/eclipse-fog05 target=_blank rel=noopener aria-label=GitHub><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 499.36" focusable="false"><title>GitHub</title><path d="M256 0C114.64.0.0 114.61.0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34.0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49.0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75.0.0 21.49-6.88 70.4 26.24a242.65 242.65.0 01128.18.0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69.0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41.0 34.22-.31 61.83-.31 70.23.0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37.0 256 0z" fill="currentcolor" fill-rule="evenodd"/></svg></a></li><li class=nav-item><a class="nav-link p-2" href=https://gitter.im/atolab/fog05 target=_blank rel=noopener aria-label=Gitter><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" focusable="false"><title>Gitter</title><path fill="currentcolor" d="M8.501 4.001H10.5V24H8.501V4.001zm6.999.0V24h-2V4.001h2zM3.5.0h2.001v15H3.5V0zm15 4.001h2V15h-2V4.001z"/></svg></a></li></ul></header><div class="container-fluid fos-docs"><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 fos-sidebar"><form class="fos-search d-flex align-items-center"><span class="algolia-autocomplete algolia-autocomplete-left" style=position:relative;display:inline-block;direction:ltr><input class="form-control ds-input" id=search-input placeholder=Search... autocomplete=off spellcheck=false role=combobox aria-autocomplete=list aria-expanded=false aria-owns=algolia-autocomplete-listbox-0 style=position:relative;vertical-align:top dir=auto type=search><pre aria-hidden=true style="position:absolute;visibility:hidden;white-space:pre;font-family:-apple-system,BlinkMacSystemFont,segoe ui,Roboto,helvetica neue,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol;font-size:16px;font-style:normal;font-variant:normal;font-weight:400;word-spacing:0;letter-spacing:normal;text-indent:0;text-rendering:optimizelegibility;text-transform:none">w</pre><span class="ds-dropdown-menu ds-with-1" style=position:absolute;top:100%;left:0;z-index:100;right:auto;display:none role=listbox id=algolia-autocomplete-listbox-0><div class=ds-dataset-1></div></span></span><button class="btn btn-link fos-search-docs-toggle d-md-none p-0 ml-3" type=button data-toggle=collapse data-target=#fos-docs-nav aria-controls=fos-docs-nav aria-expanded=false aria-label="Toggle docs navigation"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="30" height="30" focusable="false"><title>Menu</title><path stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" d="M4 7h22M4 15h22M4 23h22"/></svg></button></form><nav class="fos-links collapse" id=fos-docs-nav><div class=fos-toc-item><a class=fos-toc-link href=https://fog05.io/docs/overview/>What is Eclipse fog05?</a></div><div class="fos-toc-item active"><a class=fos-toc-link href=https://fog05.io/docs/getting-started/installation/>Getting started</a><ul class="nav fos-sidenav"><li><a href=https://fog05.io/docs/getting-started/installation/>Installation</a></li><li><a href=https://fog05.io/docs/getting-started/force-installation/>FOrcE Installation</a></li><li><a href=https://fog05.io/docs/getting-started/hello-world/ class=active>Hello World!</a></li><li><a href=https://fog05.io/docs/getting-started/introducing-fosctl/>Introducing fosctl</a></li><li><a href=https://fog05.io/docs/getting-started/etsi-osm-interop/>Eclipse fog05 with ETSI OSM Orchestrator</a></li></ul></div><div class=fos-toc-item><a class=fos-toc-link href=https://fog05.io/docs/going-deeper/architecture/>Going deeper</a><ul class="nav fos-sidenav"><li><a href=https://fog05.io/docs/going-deeper/architecture/>Architecture</a></li><li><a href=https://fog05.io/docs/going-deeper/write_runtime_plugin/>Write a Runtime Plugin</a></li></ul></div><div class=fos-toc-item><a class=fos-toc-link href=https://fog05.io/docs/internals/intro/>Eclipse fog05 internals</a><ul class="nav fos-sidenav"><li><a href=https://fog05.io/docs/internals/intro/>Introduction</a></li><li><a href=https://fog05.io/docs/internals/zenoh/>Location transparent state access and distribution</a></li></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 fos-toc"><div class=section-nav><nav id=TableOfContents></nav></div></div><main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 fos-content fos-docs"><h1 class=fos-title>Hello World!</h1><div class=github-edit><a class="fa fa-github" href=https://github.com/eclipse-fog05/website/tree/master/content/docs/getting-started/hello-world.md>Edit on GitHub</a></div><p>To kick off our tour of Eclipse fog05 and to demonstrate use and access of the Fog Infrastructure Manager, we will start with the obligatory &ldquo;hello world&rdquo;
example.
This example will deploy a docker container that just prints &ldquo;Hello World!&rdquo;</p><p>Let&rsquo;s get started.</p><p>First, we need to install <a href=https://containerd.io/>containerd</a>m the containerd plugin for Eclipse fog05 and the fog05 client API.</p><div class=highlight><pre style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ wget https://github.com/eclipse-fog05/fog05/releases/download/v0.2.1/containerd.io_1.3.4-1_amd64.deb
$ wget https://github.com/eclipse-fog05/fog05/releases/download/v0.2.1/fog05-plugin-fdu-containerd_0.2.1-1_amd64.deb
$ sudo apt install ./containerd.io_1.3.4-1_amd64.deb
$ sudo apt install ./fog05-plugin-fdu-containerd_0.2.0-1.deb
$ sudo pip3 install <span style=color:#033>fog05</span><span style=color:#555>==</span>0.2.1
</code></pre></div><p>Once it is installed let&rsquo;s start the fog05 services</p><div class=highlight><pre style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ sudo systemctl start containerd
$ sudo systemctl start zenoh
$ sudo systemctl start fos_agent
$ sudo systemctl start fos_linux
$ sudo systemctl start fos_linuxbridge
$ sudo systemctl start fos_ctd
</code></pre></div><p>Next we need to write the descriptor for this container.
Let&rsquo;s call it <code>fdu_helloworld.json</code>:</p><div class=highlight><pre style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
    <span style=color:#309;font-weight:700>&#34;id&#34;</span>: <span style=color:#c30>&#34;hello-world-docker&#34;</span>,
    <span style=color:#309;font-weight:700>&#34;name&#34;</span>: <span style=color:#c30>&#34;hello-world&#34;</span>,
    <span style=color:#309;font-weight:700>&#34;computation_requirements&#34;</span>: {
        <span style=color:#309;font-weight:700>&#34;cpu_arch&#34;</span>: <span style=color:#c30>&#34;x86_64&#34;</span>,
        <span style=color:#309;font-weight:700>&#34;cpu_min_freq&#34;</span>: <span style=color:#f60>0</span>,
        <span style=color:#309;font-weight:700>&#34;cpu_min_count&#34;</span>: <span style=color:#f60>1</span>,
        <span style=color:#309;font-weight:700>&#34;ram_size_mb&#34;</span>: <span style=color:#f60>64.0</span>,
        <span style=color:#309;font-weight:700>&#34;storage_size_gb&#34;</span>: <span style=color:#f60>0.1</span>
    },
    <span style=color:#309;font-weight:700>&#34;image&#34;</span>: {
        <span style=color:#309;font-weight:700>&#34;uri&#34;</span>: <span style=color:#c30>&#34;docker.io/gabrik91/loop:latest&#34;</span>,
        <span style=color:#309;font-weight:700>&#34;checksum&#34;</span>: <span style=color:#c30>&#34;&#34;</span>,
        <span style=color:#309;font-weight:700>&#34;format&#34;</span>: <span style=color:#c30>&#34;&#34;</span>
    },
    <span style=color:#309;font-weight:700>&#34;storage&#34;</span>: [],
    <span style=color:#309;font-weight:700>&#34;hypervisor&#34;</span>: <span style=color:#c30>&#34;DOCKER&#34;</span>,
    <span style=color:#309;font-weight:700>&#34;migration_kind&#34;</span>: <span style=color:#c30>&#34;COLD&#34;</span>,
    <span style=color:#309;font-weight:700>&#34;interfaces&#34;</span>: [],
    <span style=color:#309;font-weight:700>&#34;io_ports&#34;</span>: [],
    <span style=color:#309;font-weight:700>&#34;connection_points&#34;</span>: [],
    <span style=color:#309;font-weight:700>&#34;depends_on&#34;</span>: []
}
</code></pre></div><p>Let&rsquo;s imagine that our descriptor was saved in our <code>$HOME</code> directory,
we can use this simple python script to deploy the &ldquo;hello world&rdquo; example</p><div class=highlight><pre style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#069;font-weight:700>import</span> <span style=color:#0cf;font-weight:700>json</span>
<span style=color:#069;font-weight:700>import</span> <span style=color:#0cf;font-weight:700>time</span>
<span style=color:#069;font-weight:700>from</span> <span style=color:#0cf;font-weight:700>fog05</span> <span style=color:#069;font-weight:700>import</span> FIMAPI
<span style=color:#069;font-weight:700>from</span> <span style=color:#0cf;font-weight:700>fog05_sdk.interfaces.FDU</span> <span style=color:#069;font-weight:700>import</span> FDU

<span style=color:#069;font-weight:700>def</span> <span style=color:#c0f>read_file</span>(filepath):
	<span style=color:#069;font-weight:700>with</span> <span style=color:#366>open</span>(filepath, <span style=color:#c30>&#39;r&#39;</span>) <span style=color:#069;font-weight:700>as</span> f:
		data <span style=color:#555>=</span> f<span style=color:#555>.</span>read()
	<span style=color:#069;font-weight:700>return</span> data

api <span style=color:#555>=</span> FIMAPI()
desc <span style=color:#555>=</span> json<span style=color:#555>.</span>loads(read_file(<span style=color:#c30>&#39;/home/ubuntu/fdu_helloworld.json&#39;</span>))
fdu_descriptor <span style=color:#555>=</span>  FDU(desc)
fduD <span style=color:#555>=</span> api<span style=color:#555>.</span>fdu<span style=color:#555>.</span>onboard(fdu_descriptor)
fdu_id <span style=color:#555>=</span> fduD<span style=color:#555>.</span>get_uuid()
<span style=color:#069;font-weight:700>print</span> ( <span style=color:#c30>&#39;fdu_id: {}&#39;</span><span style=color:#555>.</span>format(fduD<span style=color:#555>.</span>get_uuid()))

inst_info<span style=color:#555>=</span>api<span style=color:#555>.</span>fdu<span style=color:#555>.</span>define(fdu_id)
api<span style=color:#555>.</span>fdu<span style=color:#555>.</span>configure(inst_info<span style=color:#555>.</span>get_uuid())
api<span style=color:#555>.</span>fdu<span style=color:#555>.</span>start(inst_info<span style=color:#555>.</span>get_uuid(), <span style=color:#c30>&#34;MYENV=Hello World!&#34;</span>)
<span style=color:#069;font-weight:700>print</span>(<span style=color:#c30>&#39;Instance ID: {}&#39;</span><span style=color:#555>.</span>format(inst_info<span style=color:#555>.</span>get_uuid()))
time<span style=color:#555>.</span>sleep(<span style=color:#f60>1</span>)
log <span style=color:#555>=</span> api<span style=color:#555>.</span>fdu<span style=color:#555>.</span>log(inst_info<span style=color:#555>.</span>get_uuid())
<span style=color:#069;font-weight:700>print</span>(<span style=color:#c30>&#39;FDU Output:</span><span style=color:#c30;font-weight:700>\n</span><span style=color:#c30>{}</span><span style=color:#c30;font-weight:700>\n</span><span style=color:#c30>&#39;</span><span style=color:#555>.</span>format(log))

<span style=color:#366>input</span>(<span style=color:#c30>&#39;Press enter to terminate&#39;</span>)

api<span style=color:#555>.</span>fdu<span style=color:#555>.</span>terminate(inst_info<span style=color:#555>.</span>get_uuid())

api<span style=color:#555>.</span>close()
<span style=color:#366>exit</span>(<span style=color:#f60>0</span>)

</code></pre></div><p>We can save this file as <code>fos_deploy.py</code> and run it using <code>python3</code></p><div class=highlight><pre style=background-color:#f0f3f3;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>$ python3 fos_deploy.py
fdu_id: 6f52866c-0e69-4075-9ee1-b24c3b8a0969
Instance ID: 4ac683a6-7fee-4481-af2b-c7ca6c5bdf9c
FDU Output:
Hello World!
Hello World!
Hello World!
Hello World!
Hello World!
Hello World!


Press enter to terminate
...
$
</code></pre></div><div class=fos-next><b>Next up</b>: <a href=/docs/getting-started/introducing-fosctl/>Introducing fosctl</a></div></main></div></div><footer class="fos-footer text-muted"><div class="container-fluid p-6 p-md-5"><div class=row><div class=col-md-2><h5>Eclipse Incubation</h5><p><img src=https://fog05.io/img/incubation.png style=width:100px></p><p>Eclipse fog05 &trade; is an incubating project under the Eclipse Foundation.</p></div><div class=col-md-2><h5>More Information</h5><p><a href=https://www.eclipse.org/legal target=_blank>Legal</a></p><p><a href=https://www.eclipse.org/legal/privacy.php target=_blank>Privacy policy</a></p><p><a href=https://www.eclipse.org/legal/termsofuse.php target=_blank>Terms of use</a></p><p><a href=https://www.eclipse.org/legal/copyright.php target=_blank>Copyright</a></p><p><a href=https://www.eclipse.org/security/ target=_blank>Report a security issue</a></p><p><a href=https://www.eclipse.org/legal/epl-2.0/ target=_blank>Eclipse Public License 2.0</a></p><p><a href=https://www.apache.org/licenses/LICENSE-2.0 target=_blank>Apache License 2.0</a></p><p><a href=https://www.eclipse.org/ target=_blank>Eclipse Foundation</a></p></div><div class=col-md-2><h5>Sponsored by</h5><p><a href=https://www.eclipse.org target=_blank><img src=https://fog05.io/img/eclipse.svg style=width:100px></a></p><p><a href=https://edgenative.eclipse.org target=_blank><img src=https://fog05.io/img/edge-logo.svg style=width:100px></a></p><p><a href=https://www.adlinktech.com target=_blank><img src=https://cdn.adlinktech.com/webupd/en/Upload/logo.png style=width:100px></a></p></div><div class=col-md-2><h5>Follow us</h5><ul class=fos-footer-links><li><a href=https://github.com/eclipse-fog05><i class="fa fa-github" aria-hidden=true></i>GitHub</a></li><li><a href=https://fog05.io/docs/overview/><i class="fa fa-info-circle" aria-hidden=true></i>About</a></li></ul></div><div class=col-md-2><p><img src=https://fog05.io/img/logo_horizontal_notag.png style=width:75px></p><p>Eclipse fog05 &trade; is free, open source and always will be.</p><p>Copyright &copy 2019 Eclipse Foundation</p><p>Build with <a href=https://gohugo.io/ target=_blank>HUGO</a></p><p>Theme: <a href=https://tokio.rs/ target=_blank>Tokio website theme</a></p></div></div></div></footer><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js integrity=sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7 crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.7/js/tether.min.js integrity=sha384-XTs3FgkjiBgo8qjEjBk0tGmf3wPrWtA6coPfQDfFEY8AnYJwjalXCiosYRBIBZX8 crossorigin=anonymous></script><script src=https://fog05.io/js/bootstrap.min.js></script><script src=https://fog05.io/js/highlight.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js></script></body></html>