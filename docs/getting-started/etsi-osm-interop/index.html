<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=apple-touch-icon sizes=120x120 href=https://fog05.io/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://fog05.io/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://fog05.io/favicon-16x16.png><link rel=manifest href=https://fog05.io/manifest.json><link rel=mask-icon href=https://fog05.io/safari-pinned-tab.svg color=#5bbad5><meta name=theme-color content="#ffffff"><link rel=stylesheet href=https://fog05.io/css/bootstrap-reboot.css><link rel=stylesheet href=https://fog05.io/css/bootstrap.css><link rel=stylesheet href=https://fog05.io/css/font-awesome.min.css><link rel=stylesheet href=https://fog05.io/css/fos.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css><link rel=alternate type=application/rss+xml href=https://fog05.io/blog/index.xml><title>Eclipse fog05 with ETSI OSM Orchestrator Â· Eclipse fog05</title></head><body><header class="navbar navbar-expand navbar-dark flex-column flex-md-row fos-navbar"><a class=navbar-brand href=https://fog05.io/><img src=https://fog05.io/img/fos_logo.png class=align-middle alt="Eclipse fog05 logo" style=width:100px></a><div class="collapse navbar-collapse"><ul class=navbar-nav><li class=nav-item><a class=nav-link href=https://fog05.io/>Home</a></li><li class=nav-item><a class="nav-link active" href=https://fog05.io/docs/getting-started/installation/>Documentation</a></li><li class=nav-item><a class=nav-link href=https://fog05.io/community/>Community</a></li><li class=nav-item><a class=nav-link href=https://fog05.io/blog/2020-10-release-0-2-2/>Blog</a></li></ul></div><ul class="navbar-nav flex-row ml-md-auto d-none d-md-flex"><li class=nav-item><a class="nav-link p-2" href=https://github.com/eclipse-fog05 target=_blank rel=noopener aria-label=GitHub><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 512 499.36" focusable="false"><title>GitHub</title><path d="M256 0C114.64.0.0 114.61.0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34.0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49.0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75.0.0 21.49-6.88 70.4 26.24a242.65 242.65.0 01128.18.0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69.0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41.0 34.22-.31 61.83-.31 70.23.0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37.0 256 0z" fill="currentcolor" fill-rule="evenodd"/></svg></a></li><li class=nav-item><a class="nav-link p-2" href=https://gitter.im/atolab/fog05 target=_blank rel=noopener aria-label=Gitter><svg class="navbar-nav-svg" xmlns="http://www.w3.org/2000/svg" focusable="false"><title>Gitter</title><path fill="currentcolor" d="M8.501 4.001H10.5V24H8.501V4.001zm6.999.0V24h-2V4.001h2zM3.5.0h2.001v15H3.5V0zm15 4.001h2V15h-2V4.001z"/></svg></a></li></ul></header><div class="container-fluid fos-docs"><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 fos-sidebar"><form class="fos-search d-flex align-items-center"><span class="algolia-autocomplete algolia-autocomplete-left" style=position:relative;display:inline-block;direction:ltr><input class="form-control ds-input" id=search-input placeholder=Search... autocomplete=off spellcheck=false role=combobox aria-autocomplete=list aria-expanded=false aria-owns=algolia-autocomplete-listbox-0 style=position:relative;vertical-align:top dir=auto type=search><pre aria-hidden=true style="position:absolute;visibility:hidden;white-space:pre;font-family:-apple-system,BlinkMacSystemFont,segoe ui,Roboto,helvetica neue,Arial,sans-serif,apple color emoji,segoe ui emoji,segoe ui symbol;font-size:16px;font-style:normal;font-variant:normal;font-weight:400;word-spacing:0;letter-spacing:normal;text-indent:0;text-rendering:optimizelegibility;text-transform:none">w</pre><span class="ds-dropdown-menu ds-with-1" style=position:absolute;top:100%;left:0;z-index:100;right:auto;display:none role=listbox id=algolia-autocomplete-listbox-0><div class=ds-dataset-1></div></span></span><button class="btn btn-link fos-search-docs-toggle d-md-none p-0 ml-3" type=button data-toggle=collapse data-target=#fos-docs-nav aria-controls=fos-docs-nav aria-expanded=false aria-label="Toggle docs navigation"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 30 30" width="30" height="30" focusable="false"><title>Menu</title><path stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-miterlimit="10" d="M4 7h22M4 15h22M4 23h22"/></svg></button></form><nav class="fos-links collapse" id=fos-docs-nav><div class=fos-toc-item><a class=fos-toc-link href=https://fog05.io/docs/overview/>What is Eclipse fog05?</a></div><div class="fos-toc-item active"><a class=fos-toc-link href=https://fog05.io/docs/getting-started/installation/>Getting started</a><ul class="nav fos-sidenav"><li><a href=https://fog05.io/docs/getting-started/installation/>Installation</a></li><li><a href=https://fog05.io/docs/getting-started/force-installation/>FOrcE Installation</a></li><li><a href=https://fog05.io/docs/getting-started/hello-world/>Hello World!</a></li><li><a href=https://fog05.io/docs/getting-started/introducing-fosctl/>Introducing fosctl</a></li><li><a href=https://fog05.io/docs/getting-started/etsi-osm-interop/ class=active>Eclipse fog05 with ETSI OSM Orchestrator</a></li></ul></div><div class=fos-toc-item><a class=fos-toc-link href=https://fog05.io/docs/going-deeper/architecture/>Going deeper</a><ul class="nav fos-sidenav"><li><a href=https://fog05.io/docs/going-deeper/architecture/>Architecture</a></li><li><a href=https://fog05.io/docs/going-deeper/write_runtime_plugin/>Write a Runtime Plugin</a></li></ul></div><div class=fos-toc-item><a class=fos-toc-link href=https://fog05.io/docs/internals/intro/>Eclipse fog05 internals</a><ul class="nav fos-sidenav"><li><a href=https://fog05.io/docs/internals/intro/>Introduction</a></li><li><a href=https://fog05.io/docs/internals/zenoh/>Location transparent state access and distribution</a></li></ul></div></nav></div><div class="d-none d-xl-block col-xl-2 fos-toc"><div class=section-nav><nav id=TableOfContents><ul><li><a href=#example-ns>Example NS</a><ul><li><a href=#vlan-configuration-optional>VLAN Configuration (optional)</a></li></ul></li></ul></nav></div></div><main class="col-12 col-md-9 col-xl-8 py-md-3 pl-md-5 fos-content fos-docs"><h1 class=fos-title>Eclipse fog05 with ETSI OSM Orchestrator</h1><div class=github-edit><a class="fa fa-github" href=https://github.com/eclipse-fog05/website/tree/master/content/docs/getting-started/etsi-osm-interop.md>Edit on GitHub</a></div><p>Eclipse fog05 is compatible with ETSI OSM, and can be used as a VIM by this one.
Current interoperability is limited to simple NS using LXD containers as VNFs.</p><p>Let&rsquo;s suppose we have a multi node fog05 deployment and we want to connect this deployment to OSM to instantiate VNFs.</p><p>First let&rsquo;s add the VIM account to OSM</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>osm vim-create --name fos --auth_url &lt;zenoh server ip&gt;:7447 --account_type fos --tenant osm --user dummy --password dummy --config <span style=color:#e6db74>&#39;{hypervisor: LXD}&#39;</span>
</code></pre></div><p>Following paramater can be added</p><ul><li><code>arch</code> cpu architecture used when creating the VDUs for this VIM account eg. x86_64, aarch64, default is x86_64.</li><li><code>hypervisor</code> hypervisor supported by this VIM account, can be one of: LXD, KVM, BARE, DOCKER, ROS2, at least one node of the system as to be able to manage the selected hypervisor, currently only LXD is supported within the OSM connector.</li></ul><p>Images need to be already present at the VIM.</p><h2 id=example-ns>Example NS</h2><p>Here you can find and example of network service that can be instantiated to the Eclipse fog05 VIM using OSM.
The network service is composed by a single VNF based on an Alpine Linux LXD image.</p><p><code>alpine-vnfd.yaml</code></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#66d9ef>vnfd:vnfd-catalog</span>:
   <span style=color:#66d9ef>vnfd</span>:
   -   <span style=color:#66d9ef>id</span>: alpine_vnfd
       <span style=color:#66d9ef>name</span>: alpine_vnf
       <span style=color:#66d9ef>short-name</span>: alpine_vnf
       <span style=color:#66d9ef>description</span>: Simple VNF example with a Alpine
       <span style=color:#66d9ef>vendor</span>: OSM
       <span style=color:#66d9ef>version</span>: <span style=color:#e6db74>&#39;1.0&#39;</span>
       <span style=color:#66d9ef>logo</span>: alpine.jpg
       <span style=color:#66d9ef>connection-point</span>:
           -   <span style=color:#66d9ef>name</span>: eth0
               <span style=color:#66d9ef>type</span>: VPORT
       <span style=color:#66d9ef>vdu</span>:
       -   <span style=color:#66d9ef>id</span>: alpine_vnfd-LXD
           <span style=color:#66d9ef>name</span>: alpine_vnfd-LXD
           <span style=color:#66d9ef>description</span>: alpine_vnfd-LXD
           <span style=color:#66d9ef>count</span>: <span style=color:#ae81ff>1</span>
           <span style=color:#66d9ef>vm-flavor</span>:
               <span style=color:#66d9ef>vcpu-count</span>: <span style=color:#ae81ff>1</span>
               <span style=color:#66d9ef>memory-mb</span>: <span style=color:#ae81ff>256</span>
               <span style=color:#66d9ef>storage-gb</span>: <span style=color:#ae81ff>1</span>
           <span style=color:#66d9ef>image</span>: alpine-lxd
           <span style=color:#66d9ef>interface</span>:
           -   <span style=color:#66d9ef>name</span>: eth0
               <span style=color:#66d9ef>type</span>: EXTERNAL
               <span style=color:#66d9ef>virtual-interface</span>:
                   <span style=color:#66d9ef>type</span>: VIRTIO
                   <span style=color:#66d9ef>bandwidth</span>: <span style=color:#e6db74>&#39;0&#39;</span>
                   <span style=color:#66d9ef>vpci</span>: <span style=color:#ae81ff>0000</span>:<span style=color:#ae81ff>00</span>:0a<span style=color:#ae81ff>.0</span>
               <span style=color:#66d9ef>external-connection-point-ref</span>: eth0
       <span style=color:#66d9ef>mgmt-interface</span>:
           <span style=color:#66d9ef>cp</span>: eth0

</code></pre></div><p><code>alpine-nsd.yaml</code></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#66d9ef>nsd:nsd-catalog</span>:
   <span style=color:#66d9ef>nsd</span>:
   -   <span style=color:#66d9ef>id</span>: alpine_nsd
       <span style=color:#66d9ef>name</span>: alpine_ns
       <span style=color:#66d9ef>short-name</span>: alpine_ns
       <span style=color:#66d9ef>description</span>: Generated by OSM pacakage generator
       <span style=color:#66d9ef>vendor</span>: OSM
       <span style=color:#66d9ef>version</span>: <span style=color:#e6db74>&#39;1.0&#39;</span>
       <span style=color:#66d9ef>constituent-vnfd</span>:
       -   <span style=color:#66d9ef>member-vnf-index</span>: <span style=color:#ae81ff>1</span>
           <span style=color:#66d9ef>vnfd-id-ref</span>: alpine_vnfd
       <span style=color:#66d9ef>vld</span>:
       <span style=color:#75715e>### Networks for the VNFs</span>
           -   <span style=color:#66d9ef>id</span>: alpine_nsd_vld1
               <span style=color:#66d9ef>name</span>: alpine_nsd_vld1
               <span style=color:#66d9ef>short-name</span>: alpine_nsd_vld1
               <span style=color:#66d9ef>type</span>: ELAN
               <span style=color:#66d9ef>mgmt-network</span>: <span style=color:#e6db74>&#39;true&#39;</span>
               <span style=color:#66d9ef>vnfd-connection-point-ref</span>:
               -   <span style=color:#66d9ef>member-vnf-index-ref</span>: <span style=color:#ae81ff>1</span>
                   <span style=color:#66d9ef>vnfd-id-ref</span>: alpine_vnfd
                   <span style=color:#66d9ef>vnfd-connection-point-ref</span>: eth0
</code></pre></div><h3 id=vlan-configuration-optional>VLAN Configuration (optional)</h3><p>If you want your fog05 installation to be able to use VLANs for virtual networks instead of overlay VxLANs you need to change the configuration on all nodes.
You need to update the configuration file <code>/etc/fos/plugins/linuxbridge/linuxbridge_plugin.json</code>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
 <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;linuxbridge&#34;</span>,
 <span style=color:#f92672>&#34;version&#34;</span>: <span style=color:#ae81ff>1</span>,
 <span style=color:#f92672>&#34;uuid&#34;</span>: <span style=color:#e6db74>&#34;d42b4163-af35-423a-acb4-a228290cf0be&#34;</span>,
 <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;network&#34;</span>,
 <span style=color:#f92672>&#34;requirements&#34;</span>: [
   <span style=color:#e6db74>&#34;jinja2&#34;</span>
 ],
 <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;linux Bridge network plugin&#34;</span>,
 <span style=color:#f92672>&#34;configuration&#34;</span>: {
   <span style=color:#f92672>&#34;ylocator&#34;</span>: <span style=color:#e6db74>&#34;tcp/&lt;your zenoh ip&gt;:7447&#34;</span>,
   <span style=color:#f92672>&#34;nodeid&#34;</span>: <span style=color:#e6db74>&#34;&lt;your node id&gt;&#34;</span>,
   <span style=color:#f92672>&#34;dataplane_interface&#34;</span>: <span style=color:#e6db74>&#34;&lt;interface for overlay networks&gt;&#34;</span>,
   <span style=color:#f92672>&#34;use_vlan&#34;</span>: <span style=color:#66d9ef>true</span>,
   <span style=color:#f92672>&#34;vlan_interface&#34;</span>: <span style=color:#e6db74>&#34;&lt;interface for vlans&gt;&#34;</span>,
   <span style=color:#f92672>&#34;vlan_range&#34;</span>: [
     <span style=color:#960050;background-color:#1e0010>&lt;start</span> <span style=color:#960050;background-color:#1e0010>vlan</span> <span style=color:#960050;background-color:#1e0010>id&gt;</span>,
     <span style=color:#960050;background-color:#1e0010>&lt;end</span> <span style=color:#960050;background-color:#1e0010>vlan</span> <span style=color:#960050;background-color:#1e0010>id&gt;</span>
   ]
 }
}

</code></pre></div><div class=fos-next><b>Next up</b>: <a href=/docs/going-deeper/architecture/>Architecture</a></div></main></div></div><footer class="fos-footer text-muted"><div class="container-fluid p-6 p-md-5"><div class=row><div class=col-md-2><h5>Eclipse Incubation</h5><p><img src=https://fog05.io/img/incubation.png style=width:100px></p><p>Eclipse fog05 &trade; is an incubating project under the Eclipse Foundation.</p></div><div class=col-md-2><h5>More Information</h5><p><a href=https://www.eclipse.org/legal target=_blank>Legal</a></p><p><a href=https://www.eclipse.org/legal/privacy.php target=_blank>Privacy policy</a></p><p><a href=https://www.eclipse.org/legal/termsofuse.php target=_blank>Terms of use</a></p><p><a href=https://www.eclipse.org/legal/copyright.php target=_blank>Copyright</a></p><p><a href=https://www.eclipse.org/security/ target=_blank>Report a security issue</a></p><p><a href=https://www.eclipse.org/legal/epl-2.0/ target=_blank>Eclipse Public License 2.0</a></p><p><a href=https://www.apache.org/licenses/LICENSE-2.0 target=_blank>Apache License 2.0</a></p><p><a href=https://www.eclipse.org/ target=_blank>Eclipse Foundation</a></p></div><div class=col-md-2><h5>Sponsored by</h5><p><a href=https://www.eclipse.org target=_blank><img src=https://fog05.io/img/eclipse.svg style=width:100px></a></p><p><a href=https://edgenative.eclipse.org target=_blank><img src=https://fog05.io/img/edge-logo.svg style=width:100px></a></p><p><a href=https://www.adlinktech.com target=_blank><img src=https://cdn.adlinktech.com/webupd/en/Upload/logo.png style=width:100px></a></p></div><div class=col-md-2><h5>Follow us</h5><ul class=fos-footer-links><li><a href=https://github.com/eclipse-fog05><i class="fa fa-github" aria-hidden=true></i>GitHub</a></li><li><a href=https://fog05.io/docs/overview/><i class="fa fa-info-circle" aria-hidden=true></i>About</a></li></ul></div><div class=col-md-2><p><img src=https://fog05.io/img/logo_horizontal_notag.png style=width:75px></p><p>Eclipse fog05 &trade; is free, open source and always will be.</p><p>Copyright &copy 2019 Eclipse Foundation</p><p>Build with <a href=https://gohugo.io/ target=_blank>HUGO</a></p><p>Theme: <a href=https://tokio.rs/ target=_blank>Tokio website theme</a></p></div></div></div></footer><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js integrity=sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7 crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.7/js/tether.min.js integrity=sha384-XTs3FgkjiBgo8qjEjBk0tGmf3wPrWtA6coPfQDfFEY8AnYJwjalXCiosYRBIBZX8 crossorigin=anonymous></script><script src=https://fog05.io/js/bootstrap.min.js></script><script src=https://fog05.io/js/highlight.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js></script></body></html>